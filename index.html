<html>
<head>
	<title>Demo Social Service</title>
</head>
<link rel="manifest" type="text/json" href="./manifest.json"></link>

<script>
// icons from http://findicons.com/icon/158311/firefox?id=356182 by ipapun
var data = {
  // currently required
  "name": "Demo Social Service",
  "iconURL": "http://localhost:8888/firefox16.png",
  "icon32URL": "http://localhost:8888/firefox32.png",
  "icon64URL": "http://localhost:8888/firefox64.png",

  // at least one of these must be defined
  "workerURL": "http://localhost:8888/worker.js",
  "sidebarURL": "http://localhost:8888/sidebar.htm",
  "shareURL": "http://localhost:8888/share.html#%{data}",

  // should be available for display purposes
  "description": "A short paragraph about this provider",
  "author": "Shane Caraveo, Mozilla",
  "homepageURL": "http://localhost:8888/",

  // optional
  "version": "1.0"
}

function activate(node) {
  node.setAttribute("data-service", JSON.stringify(data));
  var event = new CustomEvent("ActivateSocialFeature");
  node.dispatchEvent(event);
}
</script>
<body>

nothing to see here

<!-- activation requires user input, first button works, second does not. -->
<button onclick="activate(this)" title="activate the demo provider">Activate The Demo Provider</button>
<!-- next button illustrates that activation requires user input,
     otherwise it will be ignored by the browser -->
<button onclick="setTimeout(activate, 1000, this)">Auto Activate provider without user input (should fail)</button>

<p>Activation is only available to domains that are whitelisted in Firefox
preferences.  See social.activation.whitelist in about:config.</p>
</body>
</html>
